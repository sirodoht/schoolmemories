{% extends 'main/layout.html' %}

{% block title %}{{ memory.title }} | School Memories{% endblock %}

{% block content %}
{% include 'partials/nav.html' %}
<main>
    <div class="memory-detail">
        <div class="memory-detail-header">
            <div class="memory-id">
                #{{ memory.id }}
            </div>
            <h1 class="memory-title">{{ memory.title }}</h1>
        </div>

        <div class="memory-metadata-flow">
            <div class="metadata-section">
                <span class="metadata-category">Themes</span>
                <span class="metadata-content">{{ memory.memory_themes }}</span>
                {% if memory.memory_themes_additional %}
                <span class="metadata-additional">{{ memory.memory_themes_additional }}</span>
                {% endif %}
            </div>

            <div class="metadata-row">
                <div class="metadata-group">
                    <span class="metadata-label">Age</span>
                    <span class="metadata-value">{{ memory.age }} years old</span>
                </div>
                <div class="metadata-group">
                    <span class="metadata-label">Gender</span>
                    <span class="metadata-value">
                        {{ memory.get_gender_display }}
                        {% if memory.gender_other %}({{ memory.gender_other }}){% endif %}
                    </span>
                </div>
                <div class="metadata-group">
                    <span class="metadata-label">Heritage</span>
                    <span class="metadata-value">{{ memory.heritage }}</span>
                </div>
            </div>

            <div class="metadata-row">
                <div class="metadata-group">
                    <span class="metadata-label">Location</span>
                    <span class="metadata-value">{{ memory.location }}, {{ memory.get_country_display }}</span>
                </div>
                <div class="metadata-group">
                    <span class="metadata-label">School Grade</span>
                    <span class="metadata-value">{{ memory.school_grade }}</span>
                </div>
            </div>

            <div class="metadata-row">
                <div class="metadata-group">
                    <span class="metadata-label">School Funding</span>
                    <span class="metadata-value">{{ memory.get_school_funding_display }}</span>
                </div>
                {% if memory.educational_philosophy %}
                <div class="metadata-group">
                    <span class="metadata-label">Educational Philosophy</span>
                    <span class="metadata-value">{{ memory.get_educational_philosophy_display }}</span>
                </div>
                {% endif %}
                {% if memory.religious_tradition %}
                <div class="metadata-group">
                    <span class="metadata-label">Religious/Spiritual Tradition</span>
                    <span class="metadata-value">{{ memory.get_religious_tradition_display }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="memory-content-card">
            <h2>The Memory</h2>
            <div class="memory-body">
                {{ memory.body|linebreaks }}
            </div>
        </div>

        <div class="memory-navigation">
            <a href="{% url 'index' %}" class="back-link">
                <span class="back-arrow">‚Üê</span>
                Back to memories
            </a>
        </div>
    </div>
</main>
{% endblock content %}
